<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Día 1 de enero en casa de Buju y Leo - ¿Quieres pasarlo bien?</title>
<style>
body {
    margin:0;
    background: radial-gradient(circle,#001515,#000);
    color:#00ffcc;
    font-family:"Courier New",monospace;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    text-align:center;
}
body::before{
    content:"";
    position:fixed;
    inset:0;
    background: repeating-linear-gradient(0deg, rgba(0,255,204,0.06), rgba(0,255,204,0.06) 1px, transparent 1px, transparent 4px);
    animation: scan 5s linear infinite;
    pointer-events:none;
}
@keyframes scan{to{transform:translateY(-50%)}}
.box{
    position:relative;
    z-index:2;
    border:2px solid #00ffcc;
    padding:35px;
    max-width:900px;
    background:rgba(0,0,0,0.92);
    box-shadow:0 0 55px #00ffcc;
}
.hidden{display:none;}
input{
    background:black;
    border:1px solid #00ffcc;
    color:#00ffcc;
    padding:12px;
    width:80%;
}
button{
    margin-top:20px;
    background:transparent;
    color:#00ffcc;
    border:1px solid #00ffcc;
    padding:12px 25px;
    cursor:pointer;
    font-size:16px;
}
button:hover{background:#00ffcc;color:#000;}
.glitch{animation:glitch 0.6s infinite;}
@keyframes glitch{0%{transform:translate(0);}25%{transform:translate(-2px,2px);}50%{transform:translate(2px,-2px);}75%{transform:translate(-1px,-2px);}100%{transform:translate(0);}}
.blink{animation:blink 1s infinite;}
@keyframes blink{50%{opacity:0;}}
.alarm{color:#ff5555;font-size:22px;animation:blink 0.7s infinite;}
#clock{margin-top:15px;font-size:18px;}
.flash{position:fixed;inset:0;background:white;opacity:0;pointer-events:none;z-index:10;}
.plate{width:40px;height:40px;border:2px solid #00ffcc;border-radius:50%;display:inline-block;margin:5px;animation:spin 2s linear infinite;}
@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
</style>
</head>
<body>
<div class="flash" id="flash"></div>
<audio id="music" loop>
<source src="musica_impactante.wav" type="audio/wav">
</audio>

<!-- LOGIN -->
<div class="box" id="login">
    <h1 class="glitch blink">DÍA 1 DE ENERO</h1>
    <p><strong>En casa de Buju y Leo</strong></p>
    <p>¿Quieres pasarlo bien? Introduce la contraseña:</p>
    <input type="password" id="password" placeholder="Contraseña">
    <br>
    <button onclick="checkPassword()">Acceder</button>
    <p id="error" style="color:red;"></p>
</div>

<!-- CUENTA ATRÁS -->
<div class="box hidden" id="countdownBox">
    <h1 class="glitch">SINCRONIZANDO SISTEMA</h1>
    <h2 id="countdown">5</h2>
</div>

<!-- FINAL -->
<div class="box hidden" id="final">
    <h1 class="blink glitch">SISTEMA ACTIVO</h1>
    <p id="clock"></p>
    <h2>LOCURA TOTAL EN CASA DE BUJU Y LEO</h2>
    <p class="alarm">⚠️ EL ÚLTIMO EN LLEGAR LAVARÁ LOS PLATOS ⚠️</p>
    <div id="plates"></div>
    <p id="accessTime"></p>
    <p id="randomMessage"></p>
</div>

<script>
const mensajes=["La cocina te observa.","No hay escapatoria.","El caos es inevitable.","Cuidado con el último plato.","Sistema doméstico activado."];

const music=document.getElementById("music");

function hablar(texto){
    const u=new SpeechSynthesisUtterance(texto);
    u.lang="es-ES";
    u.rate=0.9;
    speechSynthesis.speak(u);
}

function flashCam(){
    const f=document.getElementById("flash");
    f.style.opacity=0.85;
    setTimeout(()=>f.style.opacity=0,120);
}

function subirVolumen(){
    music.volume=0;
    let v=0;
    const i=setInterval(()=>{
        v+=0.02;
        music.volume=Math.min(v,0.7);
        if(v>=0.7) clearInterval(i);
    },150);
}

function checkPassword(){
    const pass=document.getElementById("password").value.toLowerCase();
    if(pass==="locura"){
        document.getElementById("login").classList.add("hidden");
        document.getElementById("countdownBox").classList.remove("hidden");
        music.play();
        subirVolumen();
        hablar("Acceso concedido. Prepárate.");
        startCountdown();
    } else{
        document.getElementById("error").textContent="Contraseña incorrecta. Intento registrado.";
        flashCam();
        hablar("Acceso denegado.");
    }
}

function startCountdown(){
    let t=5;
    const c=document.getElementById("countdown");
    const i=setInterval(()=>{
        t--;
        c.textContent=t;
        if(t===0){
            clearInterval(i);
            document.getElementById("countdownBox").classList.add("hidden");
            document.getElementById("final").classList.remove("hidden");
            registrarHora();
            mostrarMensajeAleatorio();
            animarPlatos();
            hablar("El último en llegar lavará los platos");
            reloj();
        }
    },1000);
}

function registrarHora(){
    const now=new Date();
    document.getElementById("accessTime").textContent="Hora de acceso registrada: "+now.toLocaleTimeString();
}

function mostrarMensajeAleatorio(){
    const msg=mensajes[Math.floor(Math.random()*mensajes.length)];
    document.getElementById("randomMessage").textContent=msg;
}

function reloj(){
    setInterval(()=>{
        document.getElementById("clock").textContent="Hora actual: "+new Date().toLocaleTimeString();
    },1000);
}

function animarPlatos(){
    const container=document.getElementById("plates");
    for(let i=0;i<10;i++){
        const plate=document.createElement("div");
        plate.className="plate";
        container.appendChild(plate);
    }
}
</script>
</body>
</html>
